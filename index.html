<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="pageTitle">Analizador de Aplicaciones Educativas con IA</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* Estilos base */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        /* Variables para temas */
        :root {
            --background-day: #f3f4f6; /* gray-100 */
            --text-day: #1f2937; /* gray-800 */
            --card-bg-day: #ffffff;
            --input-bg-day: #f9fafb; /* gray-50 */
            --primary-color: #0891b2; /* cyan-600 */
            --primary-hover: #0e7490; /* cyan-700 */

            --background-night: #111827; /* gray-900 */
            --text-night: #e5e7eb; /* gray-200 */
            --card-bg-night: #1f2937; /* gray-800 */
            --input-bg-night: #374151; /* gray-700 */
        }

        /* Estilos para el modo noche */
        body.dark-mode {
            background-color: var(--background-night);
            color: var(--text-night);
        }
        body.dark-mode main {
            background-color: var(--card-bg-night);
            border-color: #374151; /* gray-700 */
        }
        body.dark-mode input,
        body.dark-mode select,
        body.dark-mode textarea {
            background-color: var(--input-bg-night);
            border-color: #4b5563; /* gray-600 */
            color: var(--text-night);
        }
        body.dark-mode label {
            color: #d1d5db; /* gray-300 */
        }
        body.dark-mode p,
        body.dark-mode footer a {
            color: #9ca3af; /* gray-400 */
        }

        /* Spinner de carga */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #ffffff;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Controles Superiores: Idioma y Tema -->
    <header class="w-full max-w-3xl flex justify-between items-center mb-4">
        <div class="flex items-center space-x-2">
            <button id="lang-es" class="px-3 py-1 text-sm font-semibold rounded-full transition bg-cyan-600 text-white">ES</button>
            <button id="lang-en" class="px-3 py-1 text-sm font-semibold rounded-full transition">EN</button>
        </div>
        <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition">
            <!-- Icono Luna (Modo Noche) -->
            <svg id="theme-icon-dark" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
            <!-- Icono Sol (Modo Día) - Oculto por defecto -->
            <svg id="theme-icon-light" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
        </button>
    </header>

    <main class="bg-white p-6 sm:p-8 rounded-xl shadow-lg w-full max-w-3xl border border-gray-200">
        <div class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-cyan-600 mb-2" data-translate="mainTitle">Analizador de Aplicaciones Educativas con IA</h1>
            <p class="text-gray-600 max-w-2xl mx-auto" data-translate="mainDescription">
                Introduce tus datos y la URL o descripción de una aplicación. La IA la analizará y preparará un borrador en tu formulario de Google con todos los campos deducidos.
            </p>
        </div>

        <form id="analisisForm" class="space-y-6">
            <!-- Datos del Autor y Plataforma -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="authorName" class="block text-sm font-medium text-gray-700 mb-1" data-translate="authorLabel">Nombre de autor/a o alias</label>
                    <input type="text" id="authorName" name="authorName" class="w-full bg-gray-50 border border-gray-300 rounded-md p-3 text-gray-900 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition" placeholder="Ej: Ada Lovelace">
                </div>
                <div>
                    <label for="platformSelect" class="block text-sm font-medium text-gray-700 mb-1" data-translate="platformLabel">Plataforma de creación</label>
                    <select id="platformSelect" name="platformSelect" class="w-full bg-gray-50 border border-gray-300 rounded-md p-3 text-gray-900 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition">
                        <option value="" disabled selected data-translate="platformDefaultOption">Selecciona una plataforma</option>
                        <option value="Canva">Canva</option>
                        <option value="Claude">Claude</option>
                        <option value="ChatGPT">ChatGPT</option>
                        <option value="Copilot">Copilot</option>
                        <option value="DeepSeek">DeepSeek</option>
                        <option value="Gemini">Gemini</option>
                        <option value="Google AI Studio">Google AI Studio</option>
                        <option value="Grok">Grok</option>
                        <option value="Lovable.app">Lovable.app</option>
                        <option value="Netlify">Netlify</option>
                        <option value="Qwen">Qwen</option>
                        <option value="Replit">Replit</option>
                        <option value="Websim">Websim</option>
                        <option value="Otra">Otra</option>
                    </select>
                </div>
            </div>

            <!-- Selector de Modo de Análisis -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="analysisSourceLabel">Fuente del análisis</label>
                <div class="flex space-x-2 border border-gray-300 dark:border-gray-600 rounded-md p-1 bg-gray-100 dark:bg-gray-700">
                    <button type="button" id="modeTextBtn" class="flex-1 p-2 rounded-md text-sm font-semibold transition" data-translate="analysisModeText">Descripción / Código</button>
                    <button type="button" id="modeUrlBtn" class="flex-1 p-2 rounded-md text-sm font-semibold transition" data-translate="analysisModeUrl">Solo URL</button>
                </div>
            </div>
            
            <!-- Entradas de URL y Descripción -->
            <div id="urlInputContainer">
                <label for="appUrl" class="block text-sm font-medium text-gray-700 mb-1" data-translate="appUrlLabel">URL de la aplicación</label>
                <input type="url" id="appUrl" name="appUrl" class="w-full bg-gray-50 border border-gray-300 rounded-md p-3 text-gray-900 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition" placeholder="https://ejemplo.com/mi-app">
            </div>
            
            <div id="descriptionInputContainer" class="hidden">
                 <label for="appDescription" class="block text-sm font-medium text-gray-700 mb-1" data-translate="appDescriptionLabel">Descripción o código fuente a analizar</label>
                 <textarea id="appDescription" name="appDescription" rows="5" class="w-full bg-gray-50 border border-gray-300 rounded-md p-3 text-gray-900 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition" data-translate="appDescriptionPlaceholder" placeholder="Pega aquí una descripción detallada de la aplicación o su código fuente..."></textarea>
            </div>
            
            <!-- Botón de Envío -->
            <button type="submit" id="analizarBtn" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-md transition-all duration-300 flex items-center justify-center space-x-2 disabled:bg-cyan-800 disabled:cursor-not-allowed">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
                <span data-translate="analyzeButton">Analizar con IA</span>
            </button>
        </form>

        <!-- Área de Estado y Resultados -->
        <div id="statusArea" class="mt-6 text-center h-16 flex flex-col items-center justify-center">
             <p id="statusMessage" class="text-gray-600"></p>
             <div id="resultArea" class="hidden mt-2">
                <a id="openFormLink" href="#" target="_blank" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-md transition-all duration-300 inline-flex items-center justify-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-right-from-square"><path d="M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"/><path d="m21 3-9 9"/><path d="M15 3h6v6"/></svg>
                    <span data-translate="openFormButton">Abrir Formulario Rellenado</span>
                </a>
             </div>
        </div>
    </main>

    <footer class="text-center mt-8 text-sm text-gray-500">
        <p><a href="https://t.me/vceduca" target="_blank" rel="noopener noreferrer" class="hover:text-cyan-600 transition">Vibe Coding Educativo</a></p>
        <p class="mt-2" data-translate="license">Licencia GPL v3</p>
    </footer>

    <script type="module" src="script.js"></script>
</body>
</html>